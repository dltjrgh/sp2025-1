tracepoint:block:block_rq_issue
{
    // trace process named "dd" only
    if (comm == "dd") {
        @ts[args->dev, args->sector] = nsecs;
    }
}

tracepoint:block:block_rq_complete
{
    if (@ts[args->dev, args->sector]) {
        // measure latency in microsec
        @disk_io_latency = hist((nsecs - @ts[args->dev, args->sector]) / 1000);
        delete(@ts[args->dev, args->sector]);
    }
}
